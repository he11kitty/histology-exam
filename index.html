<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Histology — 200-Item Exam</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --muted:#9aa6b2;
    --accent:#6ee7b7; --danger:#ff7a7a; --success:#8ee07b;
    --glass: rgba(255,255,255,0.03);
    font-family: Inter, Roboto, Arial, sans-serif;
  }
  html,body{height:100%;margin:0;background:
    linear-gradient(180deg,#071027 0%, #07172a 45%, #071a2c 100%);
    color:#e6eef3;}
  .container{max-width:1100px;margin:24px auto;padding:18px;}
  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
  header h1{font-size:20px;margin:0;color:var(--accent)}
  .controls{display:flex;gap:8px;align-items:center}
  button{background:linear-gradient(180deg, #0f1724, #071122);border:1px solid rgba(255,255,255,0.06);
    color:var(--accent);padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600}
  button.small{padding:6px 10px;font-size:13px}
  .exam-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.04);border-radius:12px;padding:16px;box-shadow:0 6px 30px rgba(2,6,23,0.6)}
  .meta{display:flex;gap:12px;align-items:center;color:var(--muted);margin-bottom:8px}
  .progress{background:rgba(255,255,255,0.03);padding:8px 12px;border-radius:999px;font-weight:700;color:var(--accent)}
  .score{background:rgba(0,0,0,0.2);padding:8px 12px;border-radius:999px}
  .questions{margin-top:10px}
  .question{background:var(--glass);border-radius:10px;padding:12px;margin-bottom:10px;border:1px solid rgba(255,255,255,0.03)}
  .qhead{display:flex;align-items:flex-start;gap:10px}
  .qnum{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.02);font-weight:800;color:var(--accent)}
  .qtext{flex:1}
  .opts{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px}
  .opt{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.04);padding:10px;border-radius:8px;cursor:pointer;color:#cfeff1;font-weight:600;transition:all .18s}
  .opt:hover{transform:translateY(-3px)}
  .opt.correct{background:linear-gradient(90deg,#04482a,#0a7b4f);border-color:rgba(0,0,0,0.3);color:#eafff3}
  .opt.incorrect{background:linear-gradient(90deg,#5b1b1b,#ff6b6b);border-color:rgba(0,0,0,0.3)}
  .rationale{margin-top:10px;padding:12px;border-radius:8px;background:rgba(0,0,0,0.25);color:#cfeff1;display:none;white-space:pre-wrap;font-size:14px;line-height:1.45}
  .rationale.show{display:block}
  .footer{display:flex;justify-content:space-between;align-items:center;margin-top:14px;color:var(--muted)}
  .brand{font-size:12px}
  .legend{display:flex;gap:8px;align-items:center}
  .legend .box{width:14px;height:14px;border-radius:3px;display:inline-block}
  .box.green{background:linear-gradient(90deg,#0bb07a,#58f2a7)}
  .box.red{background:linear-gradient(90deg,#ff6b6b,#ffb2b2)}
  .top-actions{display:flex;gap:8px}
  @media(max-width:760px){
    .opts{grid-template-columns:1fr}
    header{flex-direction:column;align-items:flex-start;gap:8px}
  }
</style>
</head>
<body>
<div class="container">
  <header>
    <div>
      <h1>Histology — Anatomy E1: 200-Item Exam</h1>
    </div>
    <div class="controls">
      <div class="meta">
        <div class="progress" id="progress">Answered: 0 / 200</div>
        <div class="score" id="score">Score: 0</div>
      </div>
      <div class="top-actions">
        <button id="showScore" class="small">Show Score</button>
        <button id="resetBtn" class="small">Reset</button>
      </div>
    </div>
  </header>

  <div class="exam-card">
    <div class="questions" id="questions"></div>
    <div class="footer">
      <div class="brand">Rationales follow the EVALS style (explanation → source → answer letter)</div>
      <div class="legend">
        <span style="color:var(--muted);font-size:13px;margin-right:8px">Legend</span>
        <span class="box green"></span><span style="color:var(--muted);margin-right:10px">= correct</span>
        <span class="box red"></span><span style="color:var(--muted)">= incorrect</span>
      </div>
    </div>
  </div>
</div>

<script>
/* 200-question array. Each item: { q: "...", options: ["a","b","c","d"], correct: <0..3>, rationale: "..." } */
const questions = [
  /* 1-45 original core */
  { q: "The resolving power of a light microscope (LM) is approximately:", options:["0.2 nm","0.2 μm","2 μm","200 μm"], correct:1, rationale:"LM resolving power ≈ 0.2 μm (200 nm). TEM has much higher resolution.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: B" },
  { q: "Which objective is typically used for scanning a slide?", options:["100× oil immersion","40× high power","4× scanning","10× low power"], correct:2, rationale:"Scanning objective is usually 4× for a wide overview of the slide.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: C" },
  { q: "Which stain is used to demonstrate reticular fibers (argyrophilic)?", options:["PAS","H&E","Best's carmine","Silver stain"], correct:3, rationale:"Reticular fibers are argyrophilic and visualized with silver stains.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: D" },
  { q: "Total magnification of an image equals:", options:["objective × condenser","ocular ÷ objective","objective × eyepiece","eyepiece + condenser"], correct:2, rationale:"Total magnification = objective × eyepiece.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: C" },
  { q: "Transmission electron microscopy (TEM) is best for:", options:["3D surface imaging","Internal ultrastructure (2-D)","Low-resolution color imaging","Macroscopic anatomy"], correct:1, rationale:"TEM provides high-resolution 2D images of internal ultrastructure.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: B" },
  { q: "Which organelle contains a strand of DNA outside the nucleus?", options:["Lysosome","Peroxisome","Mitochondrion","Ribosome"], correct:2, rationale:"Mitochondria contain mitochondrial DNA (mtDNA) outside the nucleus.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: C" },
  { q: "Nissl bodies in neurons are stacks of:", options:["Smooth ER","Golgi apparatus","rER + ribosomes","Mitochondria"], correct:2, rationale:"Nissl bodies are rough endoplasmic reticulum and ribosomes involved in protein synthesis.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  { q: "Anterograde axonal transport is mediated primarily by:", options:["Dynein","Kinesin","Myosin","Actin polymerase"], correct:1, rationale:"Kinesin mediates anterograde transport toward the axon terminal using ATP.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  { q: "Intermediate filaments (neurofilaments) in neurons have average diameter:", options:["5 nm","10 nm","25 nm","100 nm"], correct:1, rationale:"Intermediate filaments are about 10 nm in diameter and provide structural support.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  { q: "The 'unit membrane' (trilaminar) is a feature of:", options:["Cytoskeleton only","Non-membrane organelles","All membrane-bound organelles","Cell cortex only"], correct:2, rationale:"The unit membrane describes trilaminar membranes of plasma membrane and membrane-bound organelles.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: C" },
  { q: "Glycocalyx is formed mainly by:", options:["Intracellular proteins","Nucleic acids","Glycolipids and glycoproteins","Collagen fibers"], correct:2, rationale:"Glycocalyx is composed of glycolipids and glycoproteins projecting from the outer surface.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: C" },
  { q: "Retrograde axonal transport is mediated by:", options:["Kinesin","Dynein","Myosin","Tubulin polymerase"], correct:1, rationale:"Dynein mediates retrograde transport from axon terminal to cell body.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  { q: "The basal lamina is primarily:", options:["Product of fibroblasts","Composed of type I collagen only","Made by epithelial cells and includes collagen IV","Identical to lamina fibroreticularis"], correct:2, rationale:"Basal lamina is produced by epithelial cells and contains type IV collagen and glycoproteins.\\n\\nSource: EVALS 1 — The Epithelium\\nAnswer: C" },
  { q: "The stomach (fundus) is lined by which epithelium?", options:["Stratified squamous","Simple squamous","Simple columnar","Transitional"], correct:2, rationale:"Stomach mucosa is lined by simple columnar epithelium specialized for secretion.\\n\\nSource: EVALS 1 — The Epithelium\\nAnswer: C" },
  { q: "Transitional (urothelium) superficial cells are called:", options:["Goblet cells","Basal cells","Umbrella cells","Keratinocytes"], correct:2, rationale:"Umbrella cells are the dome-shaped superficial cells of urothelium.\\n\\nSource: EVALS 1 — The Epithelium\\nAnswer: C" },
  { q: "The core of a microvillus is composed primarily of:", options:["Microtubules","Intermediate filaments","Actin filaments","Keratin filaments"], correct:2, rationale:"Microvillus core contains actin microfilaments crosslinked by bundling proteins.\\n\\nSource: EVALS 1 — The Epithelium\\nAnswer: C" },
  { q: "The lateral junction containing desmogleins & desmocollins is the:", options:["Zonula occludens","Zonula adherens","Macula adherens (desmosome)","Gap junction"], correct:2, rationale:"Desmogleins and desmocollins are cadherins of desmosomes (macula adherens).\\n\\nSource: EVALS 1 — The Epithelium\\nAnswer: C" },
  { q: "Proteoglycans in connective tissue ground substance:", options:["Provide tensile collagen strength","Form elastic lamellae","Give the matrix a gelatinous character","Are the main structural fibers"], correct:2, rationale:"Proteoglycans bind water and give ground substance gelatinous properties.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  { q: "Reticular fibers are chiefly composed of:", options:["Type I collagen","Elastin","Type III collagen","Keratin"], correct:2, rationale:"Reticular fibers are made of type III collagen and are argyrophilic.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  { q: "Tropoelastin polymerization produces:", options:["Collagen fibrils","Elastin core of elastic fibers","Reticular fibers only","Proteoglycan aggregates"], correct:1, rationale:"Tropoelastin polymerizes to form elastin deposited on microfibril scaffolds.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  { q: "The principal collagen-producing cell of connective tissue is the:", options:["Chondrocyte","Osteoclast","Fibroblast","Macrophage"], correct:2, rationale:"Fibroblasts synthesize procollagen and other ECM components.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  { q: "Hyaluronic acid in connective tissue:", options:["Is primary collagen fiber","Causes elastin cross-linking","Forms proteoglycan backbone and binds water","Is a membrane protein"], correct:2, rationale:"Hyaluronic acid forms backbone for proteoglycan aggregates and retains water.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  { q: "In skeletal muscle a triad consists of:", options:["T-tubule + 2 SR terminal cisternae","One T-tubule only","3 mitochondria in series","Sarcolemma + nucleus"], correct:0, rationale:"A triad is a T-tubule flanked by two terminal cisternae of the sarcoplasmic reticulum.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: A" },
  { q: "Fasciae adherens in cardiac muscle are best described as:", options:["Gap junctions in lateral region","Transverse junctional complex anchoring thin filaments","Nuclear envelopes of myocytes","Area of pacemaker activity"], correct:1, rationale:"Fasciae adherens are transverse junctions that anchor thin filaments (terminal Z-lines) in cardiac muscle.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  { q: "Which neurotransmitter is released at the skeletal muscle motor end plate?", options:["Norepinephrine","Dopamine","Serotonin","Acetylcholine"], correct:3, rationale:"Acetylcholine is the transmitter at the neuromuscular junction of skeletal muscle.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: D" },
  { q: "Cardiac muscle cells:", options:["Are multinucleated with peripheral nuclei","Have intercalated discs with transverse & lateral components","Lack mitochondria","Are not striated"], correct:1, rationale:"Cardiac cells have intercalated discs (transverse: fasciae adherens/desmosomes; lateral: gap junctions).\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  { q: "Smooth muscle contraction differs from skeletal because it:", options:["Uses troponin-tropomyosin","Has sarcomeres and Z-lines","Lacks troponin and anchors thin filaments to dense bodies","Is striated"], correct:2, rationale:"Smooth muscle lacks troponin; thin filaments attach to dense bodies; contraction is different in organization.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: C" },
  { q: "Which CNS cell produces myelin for multiple axons?", options:["Schwann cell","Astrocyte","Microglia","Oligodendrocyte"], correct:3, rationale:"Oligodendrocytes myelinate multiple CNS axons; Schwann cells myelinate PNS axons one-to-one.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: D" },
  { q: "Microglia in the CNS are derived from:", options:["Neural crest","Epithelial cells","Blood monocytes","Oligodendrocytes"], correct:2, rationale:"Microglia originate from monocyte/macrophage lineage and act as phagocytes in CNS.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  { q: "Nissl bodies are absent in which neuronal region?", options:["Dendrites","Perikaryon","Axon / axon hillock","Dendritic spines"], correct:2, rationale:"Nissl substance (RER) is absent in the axon and axon hillock.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  { q: "Nodes of Ranvier are:", options:["Continuous myelin internodes","Sites of synaptic vesicle release","Discontinuities in myelin between Schwann cells in PNS","Glial cell bodies"], correct:2, rationale:"Nodes of Ranvier are gaps between successive myelinating cells, enabling saltatory conduction.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  { q: "Which neuroglial cell forms the Glia Limitans by extending subpial feet?", options:["Fibrous astrocyte","Oligodendrocyte","Microglia","Protoplasmic astrocyte"], correct:3, rationale:"Protoplasmic astrocytes extend foot processes that form the glia limitans adjacent to the pia.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: D" },
  { q: "Which bone cell secretes osteoclast-stimulating factor under PTH influence?", options:["Osteocyte","Osteoprogenitor","Osteoblast","Osteoclast"], correct:2, rationale:"Osteoblasts are the bone cells that have PTH receptors and secrete factors to stimulate osteoclasts.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  { q: "In endochondral ossification, the zone where chondrocytes proliferate like 'stacks of coins' is:", options:["Resting cartilage","Zone of ossification","Zone of calcification","Zone of proliferation"], correct:3, rationale:"Zone of proliferation has columns of mitotically active chondrocytes that appear as stacks of coins.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: D" },
  { q: "Hyaline cartilage is characterized by:", options:["Predominant type I collagen and vascularity","Yellow and flexible (elastic)","Only in adult ear","Amorphous basophilic ground substance and type II collagen"], correct:3, rationale:"Hyaline cartilage has an amorphous basophilic ground substance and mainly type II collagen.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: D" },
  { q: "Elastic cartilage can be identified by:", options:["Abundant type II collagen only","Abundant elastic fibers (orcein stain)","Absence of chondrocytes","Being identical to fibrocartilage"], correct:1, rationale:"Elastic cartilage contains abundant elastic fibers visible with special stains such as orcein, providing flexibility.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  { q: "Which bone cell has a ruffled border and resorbs bone?", options:["Osteoprogenitor","Osteoblast","Osteoclast","Osteocyte"], correct:2, rationale:"Osteoclasts are large multinucleated cells with ruffled borders specialized for bone resorption.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  { q: "Which epiphyseal plate zone shows hypertrophy but no mitosis?", options:["Resting cartilage","Proliferation","Maturation/Hypertrophy","Ossification"], correct:2, rationale:"The maturation (hypertrophy) zone contains large chondrocytes that enlarge but do not divide.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  { q: "The epidermal layer that contains keratohyalin granules is the:", options:["Stratum basale","Stratum spinosum","Stratum granulosum","Stratum corneum"], correct:2, rationale:"Stratum granulosum keratinocytes contain keratohyalin granules important for keratin aggregation.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  { q: "Thick skin differs from thin skin because thick skin:", options:["Has hair follicles","Contains sweat glands but lacks hair & sebaceous glands","Covers whole body","Has poorly developed stratum granulosum"], correct:1, rationale:"Thick skin (palms/soles) lacks hair follicles and sebaceous glands but contains sweat glands.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  { q: "Light cells of eccrine sweat glands are characterized by:", options:["Abundant RER & secretory granules","Myoepithelial contractile function","Abundant glycogen and watery secretion","Keratin production"], correct:2, rationale:"Light cells have abundant glycogen and produce the watery component of sweat.\\n\\nSource: EVALS 1 — Skin Lab\\nAnswer: C" },
  { q: "Meissner's corpuscles are typically located in the:", options:["Reticular dermis","Epidermis","Hypodermis","Papillary dermis"], correct:3, rationale:"Meissner corpuscles are located in dermal papillae of the papillary dermis and detect light touch.\\n\\nSource: EVALS 1 — Skin Lab\\nAnswer: D" },
  { q: "Keratinocytes are most numerous in the epidermis and:", options:["Are APCs","Produce keratin as major structural cells","Are neural crest derivatives producing pigment","Are only in stratum corneum"], correct:1, rationale:"Keratinocytes are the predominant epidermal cell type and synthesize keratin.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  { q: "Which gland is holocrine in mode of secretion?", options:["Eccrine sweat gland","Apocrine sweat gland","Sebaceous gland","Salivary mucous gland"], correct:2, rationale:"Sebaceous glands release whole cells containing sebum (holocrine secretion).\\n\\nSource: EVALS 1 — Epithelium Lab\\nAnswer: C" },
  { q: "In a cross-section of skeletal muscle, each thick myofilament is surrounded hexagonally by how many thin myofilaments?", options:["3","4","6","8"], correct:2, rationale:"Each thick myofilament is surrounded by six thin myofilaments in a hexagonal arrangement.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: C" },

  /* 46-200: Additional items to reach 200 total.
     For brevity in this comment, the list continues. In this delivered file all 200 questions are included in sequence.
     The following entries continue from 46 through 200. */

  /* 46 */ { q: "Which of the following best describes the axon hillock?", options:["Location of Nissl bodies","Region where an axon originates, lacking Nissl bodies","Terminal bouton of axon","Site of synaptic vesicle formation"], correct:1, rationale:"The axon hillock is the conical region where the axon originates and lacks Nissl bodies.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  /* 47 */ { q: "Which cytoskeletal element helps fix the diameter of axons and dendrites?", options:["Microfilaments","Neurofilaments (intermediate)","Microtubules","Actin bundles"], correct:1, rationale:"Neurofilaments (intermediate filaments) help fix the diameter of axons and dendrites.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  /* 48 */ { q: "Which glial cell lines the ventricles and helps produce CSF?", options:["Astrocyte","Oligodendrocyte","Ependymal cell","Microglia"], correct:2, rationale:"Ependymal cells line the ventricles and are involved in CSF production as choroid plexus epithelium.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  /* 49 */ { q: "Peripheral nerve fibers are enveloped by which connective tissue?", options:["Epineurium","Perineurium","Endoneurium","Perimysium"], correct:2, rationale:"Each individual nerve fiber is surrounded by endoneurium.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  /* 50 */ { q: "Which stain highlights glycogen in tissues?", options:["H&E","PAS (Periodic acid-Schiff)","Silver stain","Orcein"], correct:1, rationale:"PAS stains glycogen and other carbohydrates magenta.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: B" },
  /* 51 */ { q: "Which organelle plays a major role in detoxification and is abundant in liver cells?", options:["Lysosome","Peroxisome","Golgi complex","Mitochondrion"], correct:1, rationale:"Peroxisomes contain enzymes for detoxification and are abundant in hepatocytes.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: B" },
  /* 52 */ { q: "Which epidermal cell type is primarily involved in contact (allergic) dermatitis?", options:["Keratinocyte","Melanocyte","Langerhans cell","Merkel cell"], correct:2, rationale:"Langerhans cells are antigen-presenting dendritic cells involved in contact dermatitis.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 53 */ { q: "Which collagen type predominates in tendon?", options:["Type I","Type II","Type III","Type IV"], correct:0, rationale:"Tendon is rich in type I collagen, providing tensile strength.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: A" },
  /* 54 */ { q: "Which connective tissue cell stores lipid as triglycerides?", options:["Fibroblast","Mast cell","Adipocyte","Plasma cell"], correct:2, rationale:"Adipocytes store triglycerides as large lipid droplets.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  /* 55 */ { q: "Which cartilage type forms fetal skeleton and articular surfaces?", options:["Hyaline","Elastic","Fibrocartilage","Osseous"], correct:0, rationale:"Hyaline cartilage forms the fetal skeleton and articular cartilage in adults.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: A" },
  /* 56 */ { q: "What is the major structural protein of the cell envelope in the epidermis?", options:["Ceramide","Loricrin","Involucrin","Keratohyalin"], correct:1, rationale:"Loricrin is the main protein of the cornified cell envelope.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 57 */ { q: "Which enzyme breaks down acetylcholine at the neuromuscular junction?", options:["Acetyltransferase","Acetylcholinesterase","Monoamine oxidase","Phospholipase"], correct:1, rationale:"Acetylcholinesterase degrades acetylcholine in the synaptic cleft.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  /* 58 */ { q: "Where are terminal cisternae located relative to T-tubules in skeletal muscle?", options:["Adjacent to sarcolemma only","Form triads with T-tubule at A-I junction","At Z line only","Randomly distributed"], correct:1, rationale:"Terminal cisternae flank T-tubules to form triads, commonly at A–I junctions.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  /* 59 */ { q: "Which immunologic cell in connective tissue releases histamine and inhibits coagulation with heparin?", options:["Mast cell","Plasma cell","Macrophage","Reticular cell"], correct:0, rationale:"Mast cells contain histamine and heparin in granules, mediating allergic responses and affecting coagulation.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: A" },
  /* 60 */ { q: "Which junction forms impermeable seals between epithelial cells?", options:["Desmosomes","Gap junctions","Zonula occludens (tight junctions)","Zonula adherens"], correct:2, rationale:"Zonula occludens (tight junctions) create seals that block paracellular flow.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 61 */ { q: "Which dermal layer contains Meissner corpuscles and capillary loops?", options:["Papillary dermis","Reticular dermis","Hypodermis","Epidermis"], correct:0, rationale:"Papillary dermis contains dermal papillae with Meissner corpuscles and capillary loops.\\n\\nSource: EVALS 1 — Skin\\nAnswer: A" },
  /* 62 */ { q: "The basal lamina's lamina densa is mainly composed of which collagen type?", options:["Type I","Type II","Type IV","Type III"], correct:2, rationale:"Lamina densa contains type IV collagen characteristic of basal lamina.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 63 */ { q: "Which cytoskeletal element provides tracks for kinesin and dynein?", options:["Intermediate filaments","Microtubules","Actin microfilaments","Desmin filaments"], correct:1, rationale:"Microtubules act as tracks for motor proteins kinesin and dynein.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: B" },
  /* 64 */ { q: "Which connective tissue fiber shows periodic D-banding and high tensile strength?", options:["Elastic fiber","Collagen fiber","Reticular fiber","Elastin"], correct:1, rationale:"Collagen fibrils show periodic banding and provide tensile strength.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 65 */ { q: "Which cell type differentiates into plasma cells and secretes antibodies?", options:["T lymphocyte","B lymphocyte","Macrophage","Mast cell"], correct:1, rationale:"B lymphocytes differentiate into plasma cells that produce immunoglobulins.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 66 */ { q: "Which epithelial junction is calcium-dependent and links actin cytoskeletons?", options:["Gap junction","Zonula occludens","Zonula adherens","Hemidesmosome"], correct:2, rationale:"Zonula adherens is calcium-dependent and connects actin filaments across cells.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 67 */ { q: "Which bone structure comprises concentric lamellae around a Haversian canal?", options:["Trabeculae","Osteon (Haversian system)","Interstitial lamellae","Periosteum"], correct:1, rationale:"An osteon (Haversian system) has concentric lamellae around a central canal.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 68 */ { q: "Which zone of epiphyseal plate is the site of initial calcification and cell death?", options:["Resting zone","Proliferation","Maturation","Calcification"], correct:3, rationale:"Zone of calcification is where cartilage matrix calcifies and chondrocytes die prior to ossification.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: D" },
  /* 69 */ { q: "Which cell in bone is responsible for deposition and has basophilic cytoplasm when active?", options:["Osteoclast","Osteoblast","Osteocyte","Osteoprogenitor"], correct:1, rationale:"Osteoblasts synthesize bone matrix; active ones are basophilic due to rER.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 70 */ { q: "Which gland type has secretory units that are simple coiled tubular and produce watery sweat?", options:["Sebaceous","Eccrine (merocrine) sweat gland","Apocrine sweat gland","Salivary mucous gland"], correct:1, rationale:"Eccrine sweat glands are simple coiled tubular and secrete watery sweat by merocrine mechanism.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 71 */ { q: "Which hair follicle segment contains the hair bulb and dermal papilla?", options:["Infundibulum","Isthmus","Inferior segment","Isthmus superior"], correct:2, rationale:"The inferior segment contains the hair bulb and dermal papilla (vascular supply).\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 72 */ { q: "Which epidermal enzymes (KLK) mediate desquamation in acidic pH?", options:["KLK5/7/14 serine proteases","Acetylcholinesterase","Elastase only","Collagenase"], correct:0, rationale:"Human kallikrein serine proteases (KLK5/7/14) degrade desmosomes leading to desquamation in acidic environment.\\n\\nSource: EVALS 1 — Skin\\nAnswer: A" },
  /* 73 */ { q: "Which epidermal cell contains Birbeck rod-shaped granules and acts as an APC?", options:["Keratinocyte","Melanocyte","Langerhans cell","Merkel cell"], correct:2, rationale:"Langerhans cells have Birbeck granules and function as antigen-presenting cells.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 74 */ { q: "Which extracellular fiber predominates in the stroma of lymphoid organs and stains black with silver?", options:["Type I collagen","Elastic fiber","Type III (reticular) collagen","Keratin"], correct:2, rationale:"Reticular (type III) fibers form the supportive stroma of lymphoid organs and are argyrophilic.\\n\\nSource: EVALS 1 — Connective Tissue Lab\\nAnswer: C" },
  /* 75 */ { q: "Which mechanism of secretion involves whole-cell disintegration?", options:["Merocrine","Apocrine","Holocrine","Paracrine"], correct:2, rationale:"Holocrine secretion (e.g., sebaceous glands) involves disintegration of whole cells to release contents.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 76 */ { q: "Which apical modification forms the intestinal brush border?", options:["Cilia","Stereocilia","Microvilli","Flagellum"], correct:2, rationale:"Microvilli create the brush border increasing absorptive surface.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 77 */ { q: "Which tissue is avascular and depends on diffusion for nutrition?", options:["Skeletal muscle","Bone","Cartilage","Epithelial tissue"], correct:2, rationale:"Cartilage is avascular; chondrocytes receive nutrients by diffusion through matrix.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  /* 78 */ { q: "Which describes an osteocyte?", options:["Multinucleated resorptive cell","Active bone-forming surface cell","Mature bone cell in lacunae maintaining matrix","Stem cell of bone"], correct:2, rationale:"Osteocytes are mature bone cells embedded in lacunae, maintaining bone matrix.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  /* 79 */ { q: "Which fiber is major component of lamina fibroreticularis?", options:["Type I collagen","Type II collagen","Type III (reticular) collagen","Type IV collagen"], correct:2, rationale:"Lamina fibroreticularis contains reticular fibers (type III collagen) produced by fibroblasts.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 80 */ { q: "Which junction transmits small molecules and ions between neighboring cells?", options:["Desmosome","Gap junction","Tight junction","Hemidesmosome"], correct:1, rationale:"Gap junctions (connexons) allow direct cell-to-cell passage of ions and small molecules.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: B" },
  /* 81 */ { q: "Which muscle receptor senses muscle length and contributes to stretch reflex?", options:["Pacinian corpuscle","Meissner corpuscle","Muscle spindle (intrafusal fibers)","Ruffini ending"], correct:2, rationale:"Muscle spindles containing intrafusal fibers sense stretch/length for reflexes.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: C" },
  /* 82 */ { q: "Which CNS cell forms glial scar tissue after injury?", options:["Oligodendrocyte","Microglia","Astrocyte","Ependymal cell"], correct:2, rationale:"Astrocytes proliferate and form glial scar tissue (astrogliosis) after CNS damage.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  /* 83 */ { q: "Which precursor gives rise to osteoclasts?", options:["Osteoprogenitor","Chondroblast","Monocyte/macrophage lineage (CFU-GM)","Fibroblast"], correct:2, rationale:"Osteoclasts arise from monocyte/macrophage precursors (CFU-GM) in bone marrow.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  /* 84 */ { q: "Which connective tissue is most resistant to tension and has abundant collagen?", options:["Loose connective tissue","Dense irregular connective tissue","Adipose tissue","Reticular tissue"], correct:1, rationale:"Dense irregular connective tissue has abundant collagen fibers providing strength in multiple directions.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 85 */ { q: "Which epidermal layer contains mitotically active stem cells for renewal?", options:["Stratum corneum","Stratum granulosum","Stratum spinosum","Stratum germinativum (basale)"], correct:3, rationale:"Stratum germinativum (basale) is the mitotically active stem cell layer for epidermal renewal.\\n\\nSource: EVALS 1 — Skin\\nAnswer: D" },
  /* 86 */ { q: "Which cells generate pacemaker potentials in the heart?", options:["Neurons","SA nodal pacemaker cells (cardiac myocytes)","Skeletal muscle fibers","Smooth muscle cells"], correct:1, rationale:"SA nodal cells are specialized cardiac myocytes that act as the heart's pacemaker.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  /* 87 */ { q: "Which stain best demonstrates elastic fibers in the aortic wall?", options:["H&E","Orcein/Verhoeff","PAS","Silver stain"], correct:1, rationale:"Orcein or Verhoeff stains highlight elastic fibers in vessels such as the aorta.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 88 */ { q: "Which epidermal layer includes nodes of Bizzozero (desmosomal thickenings)?", options:["Stratum basale","Stratum spinosum","Stratum granulosum","Stratum corneum"], correct:1, rationale:"Stratum spinosum shows intercellular desmosomal thickenings (nodes of Bizzozero).\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 89 */ { q: "Which PNS cell myelinates a single axon segment?", options:["Schwann cell","Satellite cell","Oligodendrocyte","Microglia"], correct:0, rationale:"Schwann cells myelinate single PNS axons; oligodendrocytes myelinate multiple CNS axons.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: A" },
  /* 90 */ { q: "Which gland duct is lined by stratified cuboidal epithelium and secretory part by pseudostratified columnar epithelium?", options:["Eccrine sweat duct/secretory portion","Parotid gland","Submandibular gland","Sebaceous gland"], correct:0, rationale:"Eccrine sweat gland ducts are stratified cuboidal; secretory units can be pseudostratified/pseudostratified columnar.\\n\\nSource: EVALS 1 — Skin Lab\\nAnswer: A" },
  /* 91 */ { q: "Which organelle appears as a 'negative Golgi image' and is involved in protein packaging?", options:["Mitochondrion","Golgi complex","Lysosome","Peroxisome"], correct:1, rationale:"Golgi often appears pale (negative image) near nucleus and functions in packaging and processing proteins.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: B" },
  /* 92 */ { q: "Which describes plasma cells?", options:["Derived from T lymphocytes","Secrete histamine","Differentiate from B lymphocytes and secrete antibodies","Resident macrophages"], correct:2, rationale:"Plasma cells derive from B lymphocytes and are antibody-secreting cells.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  /* 93 */ { q: "What marks the boundary between epidermis and dermis?", options:["Dermal papillae and epidermal ridges (rete pegs)","Hypodermis","Hair bulbs","Follicular bulbs"], correct:0, rationale:"Epidermal ridges (rete pegs) interdigitate with dermal papillae at the junction.\\n\\nSource: EVALS 1 — Skin\\nAnswer: A" },
  /* 94 */ { q: "Which connective tissue cell contains basophilic granules and releases heparin?", options:["Lipoblast","Macrophage","Plasmocyte","Mast cell"], correct:3, rationale:"Mast cells contain basophilic granules with histamine and heparin.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: D" },
  /* 95 */ { q: "Which muscle has branching fibers, intercalated discs, and centrally placed nuclei?", options:["Skeletal muscle","Cardiac muscle","Smooth muscle","Myoepithelial cells"], correct:1, rationale:"Cardiac muscle is branched, has intercalated discs, and 1–2 central nuclei.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  /* 96 */ { q: "Which epidermal structure forms a translucent layer only in thick skin?", options:["Stratum corneum","Stratum lucidum","Stratum granulosum","Stratum basale"], correct:1, rationale:"Stratum lucidum is seen as a light translucent layer in thick skin.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 97 */ { q: "Which protein forms the microfibrillar scaffold of elastic fibers?", options:["Fibrillin","Type I collagen","Laminin","Keratin"], correct:0, rationale:"Fibrillin microfibrils scaffold elastin deposition in elastic fibers.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: A" },
  /* 98 */ { q: "Which apical structure has a 9+2 microtubule arrangement and is motile?", options:["Microvilli","Stereocilia","Cilia","Flagellum"], correct:2, rationale:"Motile cilia have the 9+2 axonemal microtubule structure.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 99 */ { q: "Which organelle is site of lipid synthesis, detoxification, and lacks ribosomes?", options:["Rough ER","Smooth ER","Golgi apparatus","Lysosome"], correct:1, rationale:"Smooth ER synthesizes lipids and detoxifies; it lacks ribosomes.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: B" },
  /* 100 */ { q: "Which connective tissue type predominates in the papillary dermis with more ground substance?", options:["Dense regular","Reticular","Loose (areolar) connective tissue","Elastic tissue"], correct:2, rationale:"Papillary dermis is loose connective tissue with abundant ground substance and fine collagen fibers.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },

  /* 101 */ { q: "Which sequence correctly describes collagen formation extracellularly?", options:["Collagen fibrils → procollagen → tropocollagen","Procollagen → tropocollagen → collagen fibrils","Tropocollagen → procollagen → procollagen fibrils","Collagen monomer → collagen fiber → procollagen"], correct:1, rationale:"Procollagen is secreted and processed extracellularly to tropocollagen which aggregates into fibrils.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 102 */ { q: "Which nerve ending is specialized for vibration and pressure and appears onion-like?", options:["Meissner corpuscle","Ruffini ending","Vater–Pacinian corpuscle","End bulb of Krause"], correct:2, rationale:"Pacinian corpuscles are lamellated receptors sensitive to vibration/pressure and look onion-like.\\n\\nSource: EVALS 1 — Nervous Tissue Lab\\nAnswer: C" },
  /* 103 */ { q: "Which organelle contains hydrolytic enzymes for autophagy?", options:["Centrosome","Lysosome","Golgi complex","Peroxisome"], correct:1, rationale:"Lysosomes contain hydrolytic enzymes for degradation and autophagy.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: B" },
  /* 104 */ { q: "Which cartilage is rich in type I collagen and found in intervertebral discs?", options:["Hyaline","Elastic","Fibrocartilage","Reticular cartilage"], correct:2, rationale:"Fibrocartilage has abundant type I collagen and resists high stress (intervertebral discs).\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  /* 105 */ { q: "Which epidermal cell senses touch and forms Merkel discs with afferent terminals?", options:["Langerhans cell","Keratinocyte","Merkel cell","Melanocyte"], correct:2, rationale:"Merkel cells form Merkel discs with sensory nerve endings for light touch.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 106 */ { q: "Which process forms osteons in compact bone?", options:["Appositional growth only","Remodeling with osteoclast resorption and osteoblast deposition","Primary ossification center formation only","Endochondral ossification only"], correct:1, rationale:"Osteons form by remodeling: osteoclasts resorb bone, osteoblasts lay concentric lamellae.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 107 */ { q: "Which histologic layer of skin contains hair follicles and sebaceous glands?", options:["Epidermis","Papillary dermis","Reticular dermis","Hypodermis"], correct:2, rationale:"Reticular dermis contains appendages like hair follicles and sebaceous glands.\\n\\nSource: EVALS 1 — Skin Lab\\nAnswer: C" },
  /* 108 */ { q: "Which connective tissue cell is the main phagocyte and antigen presenter in connective tissue?", options:["Plasma cell","Macrophage","Fibroblast","Adipocyte"], correct:1, rationale:"Macrophages phagocytose debris and present antigen via MHC molecules.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 109 */ { q: "Which nerve fiber conduction is faster and uses saltatory conduction?", options:["Unmyelinated fibers (C)","Small unmyelinated fibers","Myelinated fibers (A)","All conduct equally"], correct:2, rationale:"Myelinated fibers conduct faster due to saltatory conduction between nodes of Ranvier.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  /* 110 */ { q: "Profilaggrin is converted to filaggrin during cornification in which environment?", options:["Neutral pH","Alkaline pH","Acidic pH","Oxidative environment"], correct:2, rationale:"Profilaggrin → filaggrin conversion occurs in the acidic pH of the stratum corneum facilitating keratin aggregation.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 111 */ { q: "Which motor protein moves cargo to microtubule plus ends (anterograde)?", options:["Dynein","Kinesin","Myosin","Actin"], correct:1, rationale:"Kinesin moves cargo anterogradely to microtubule plus ends using ATP.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  /* 112 */ { q: "Which collagen type is dominant in cartilage matrix?", options:["Type I","Type II","Type III","Type IV"], correct:1, rationale:"Cartilage matrix predominantly contains type II collagen.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 113 */ { q: "Which dermal corpuscle detects light touch, especially in fingertips?", options:["Pacinian corpuscle","Meissner corpuscle","Ruffini ending","Free nerve ending"], correct:1, rationale:"Meissner corpuscles in dermal papillae sense light touch and flutter.\\n\\nSource: EVALS 1 — Skin Lab\\nAnswer: B" },
  /* 114 */ { q: "Which tissue shows a territorial matrix that stains more basophilic around lacunae?", options:["Bone","Hyaline cartilage","Skeletal muscle","Epithelial tissue"], correct:1, rationale:"Hyaline cartilage has a territorial matrix richer in GAGs that stains darker around lacunae.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 115 */ { q: "Which muscle fiber type is slow-twitch and fatigue-resistant?", options:["Type IIb","Type I (slow oxidative)","Type IIa","Type IIx"], correct:1, rationale:"Type I fibers are slow-twitch, oxidative, and fatigue-resistant.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  /* 116 */ { q: "Which epidermal protein is a major component of the cornified cell envelope?", options:["Filaggrin","Loricrin","Keratohyalin","Profilaggrin"], correct:1, rationale:"Loricrin is a major structural protein of the cornified cell envelope.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 117 */ { q: "Which epithelial surface modification is non-motile and increases absorptive area?", options:["Cilia","Microvilli","Flagellum","Stereocilia"], correct:1, rationale:"Microvilli are non-motile fingerlike projections that increase surface area for absorption.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: B" },
  /* 118 */ { q: "Which organelle performs oxidative metabolism and contains matrix enzymes for the Krebs cycle?", options:["Lysosome","Peroxisome","Mitochondrion","Golgi complex"], correct:2, rationale:"Mitochondria carry enzymes of the Krebs cycle in the matrix and produce ATP.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: C" },
  /* 119 */ { q: "Which epithelial lateral modification allows direct electrical coupling of cardiac cells?", options:["Desmosome","Zonula occludens","Gap junction","Zonula adherens"], correct:2, rationale:"Gap junctions in cardiac muscle allow ionic/electrical coupling between cells.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: C" },
  /* 120 */ { q: "Which connective tissue fiber is most abundant and provides tensile strength?", options:["Reticular fiber","Elastic fiber","Collagen fiber","Basement membrane fiber"], correct:2, rationale:"Collagen fibers (especially type I) are the most abundant and provide tensile strength.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },

  /* 121 */ { q: "Which cartilage type is present in the epiglottis and external ear and stains dark for elastic fibers?", options:["Hyaline","Elastic","Fibrocartilage","Reticular cartilage"], correct:1, rationale:"Elastic cartilage (ear, epiglottis) contains abundant elastic fibers that stain with orcein.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 122 */ { q: "Which cell in epidermis is responsible for pigment production?", options:["Keratinocyte","Langerhans cell","Melanocyte","Merkel cell"], correct:2, rationale:"Melanocytes synthesize melanin pigment in melanosomes and transfer it to keratinocytes.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 123 */ { q: "Which process allows secretory vesicles from Golgi to fuse with plasma membrane releasing contents?", options:["Endocytosis","Exocytosis","Phagocytosis","Pinocytosis"], correct:1, rationale:"Exocytosis involves vesicle fusion with plasma membrane to secrete contents.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: B" },
  /* 124 */ { q: "Which collagen type makes up reticular fibers?", options:["Type I","Type II","Type III","Type IV"], correct:2, rationale:"Reticular fibers are primarily composed of type III collagen.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  /* 125 */ { q: "Which cell plays a key role in neuroimmune reactions and originates from monocytes?", options:["Astrocyte","Microglia","Oligodendrocyte","Ependymal cell"], correct:1, rationale:"Microglia derive from monocytes and mediate neuroimmune responses.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  /* 126 */ { q: "Which bone deposit cell is acted upon by parathyroid hormone (PTH)?", options:["Osteoprogenitor","Osteoblast","Osteoclast","Osteocyte"], correct:1, rationale:"Osteoblasts have receptors for PTH and mediate bone turnover by signaling osteoclasts.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 127 */ { q: "In H&E staining, structures rich in RNA stain with which dye (basophilic)?", options:["Eosin (red)","Hematoxylin (blue)","Orcein (black)","Silver (black)"], correct:1, rationale:"Hematoxylin is basic and stains acidic structures like RNA/DNA basophilic (blue).\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: B" },
  /* 128 */ { q: "Which apical modification contains a core of actin bundles and functions in absorption?", options:["Cilia","Microvilli","Flagella","Stereocilia"], correct:1, rationale:"Microvilli have actin cores and increase absorptive surface area.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: B" },
  /* 129 */ { q: "Which connective tissue cell synthesizes precursor proteins for elastic fibers (tropoelastin)?", options:["Fibroblast","Chondrocyte","Osteoblast","Mast cell"], correct:0, rationale:"Fibroblasts produce tropoelastin and microfibrils for elastogenesis.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: A" },
  /* 130 */ { q: "Which epidermal cell is an antigen-presenting cell most numerous in the stratum spinosum?", options:["Keratinocyte","Melanocyte","Langerhans cell","Merkel cell"], correct:2, rationale:"Langerhans cells, most numerous in stratum spinosum, present antigen to immune cells.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 131 */ { q: "Which nerve ending is encapsulated and responds to coarse touch and pressure (Pacinian)?", options:["Meissner corpuscle","Pacinian corpuscle","Merkel disc","Free nerve ending"], correct:1, rationale:"Pacinian corpuscles are encapsulated, lamellated receptors sensitive to pressure/vibration.\\n\\nSource: EVALS 1 — Skin Lab\\nAnswer: B" },
  /* 132 */ { q: "Which muscle fiber arrangement describes muscle fibers running parallel but converging on a tendon?", options:["Circular","Pennate","Fusiform","Triangular"], correct:2, rationale:"Fusiform muscles have fibers parallel to the axis and converge on tendons; example: biceps.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: C" },
  /* 133 */ { q: "Which extracellular matrix component provides the gel-like property in cartilage?", options:["Collagen fibers","Proteoglycans","Elastic fibers","Reticular fibers"], correct:1, rationale:"Proteoglycans (with GAGs) make cartilage ground substance gel-like and highly hydrated.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 134 */ { q: "Which glial cell produces and maintains myelin sheath in CNS?", options:["Astrocyte","Oligodendrocyte","Schwann cell","Microglia"], correct:1, rationale:"Oligodendrocytes produce myelin around several CNS axons.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  /* 135 */ { q: "Which histologic technique is best for visualizing reticular fibers (argyrophilic)?", options:["H&E","Silver stain","Orcein","PAS"], correct:1, rationale:"Silver (argyrophilic) stains demonstrate reticular fibers as black.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 136 */ { q: "Which epithelial modification is specialized for moving mucus in respiratory epithelium?", options:["Microvilli","Cilia","Stereocilia","Keratinization"], correct:1, rationale:"Cilia in respiratory epithelium move mucus toward pharynx.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: B" },
  /* 137 */ { q: "Which bone cell is multinucleated and forms Howship's lacunae?", options:["Osteocyte","Osteoprogenitor","Osteoclast","Osteoblast"], correct:2, rationale:"Osteoclasts are multinucleated and sit in Howship's lacunae during resorption.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  /* 138 */ { q: "Which skin tumor arises from melanocytes and is most aggressive?", options:["Basal cell carcinoma","Squamous cell carcinoma","Malignant melanoma","Sebaceous carcinoma"], correct:2, rationale:"Malignant melanoma arises from melanocytes and is the most aggressive skin cancer.\\n\\nSource: EVALS 1 — Skin Clin Correlation\\nAnswer: C" },
  /* 139 */ { q: "Which epidermal layer comprises many rows of flattened keratinocytes fully cornified and anucleate?", options:["Stratum basale","Stratum granulosum","Stratum spinosum","Stratum corneum"], correct:3, rationale:"Stratum corneum consists of many rows of anucleate cornified squames.\\n\\nSource: EVALS 1 — Skin\\nAnswer: D" },
  /* 140 */ { q: "Which muscle organelle is called sarcosome in muscle tissue?", options:["Mitochondrion","Lysosome","Golgi complex","Sarcoplasmic reticulum"], correct:0, rationale:"Mitochondria in muscle are often called sarcosomes and supply ATP for contraction.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: A" },
  /* 141 */ { q: "Which connective tissue component anchors cells to the matrix and to each other (a glycoprotein)?", options:["Fibrillin","Fibronectin","Laminin","Collagen"], correct:1, rationale:"Fibronectin is a glycoprotein that mediates cell adhesion to ECM.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 142 */ { q: "What is the most abundant cell type of the epidermis?", options:["Langerhans cell","Keratinocyte","Melanocyte","Merkel cell"], correct:1, rationale:"Keratinocytes make up 85–95% of epidermal cells.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 143 */ { q: "Which cytoplasmic inclusion is commonly observed in liver cells and identifies glycogen?", options:["Lipofuscin","Glycogen granules","Zymogen granules","Melanin"], correct:1, rationale:"Glycogen granules (visualized by PAS) are stored in hepatocytes.\\n\\nSource: EVALS 1 — The Cell Lab\\nAnswer: B" },
  /* 144 */ { q: "Which muscle receptor detects vibration and pressure in deep dermis/hypodermis?", options:["Meissner corpuscle","Pacinian corpuscle","Merkel disc","Free nerve ending"], correct:1, rationale:"Pacinian corpuscles detect vibration/pressure in deep dermis/hypodermis.\\n\\nSource: EVALS 1 — Skin Lab\\nAnswer: B" },
  /* 145 */ { q: "Which nerve fiber type uses saltatory conduction to speed transmission?", options:["Unmyelinated C fibers","Small unmyelinated fibers","Myelinated A fibers","All equal"], correct:2, rationale:"Myelinated A fibers use saltatory conduction and conduct impulses rapidly.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  /* 146 */ { q: "Which cartilage zone is where chondrocytes die and matrix becomes calcified?", options:["Resting","Proliferation","Maturation","Calcification"], correct:3, rationale:"Zone of calcification is where cartilage matrix calcifies and chondrocytes die before ossification.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: D" },
  /* 147 */ { q: "Which skin appendage secretes an oily product and is associated with hair follicles?", options:["Eccrine sweat gland","Apocrine sweat gland","Sebaceous gland","Ceruminous gland"], correct:2, rationale:"Sebaceous glands are holocrine glands associated with hair follicles producing sebum.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 148 */ { q: "Which organelle is responsible for packaging and glycosylation of secreted proteins?", options:["Rough ER","Smooth ER","Golgi complex","Mitochondrion"], correct:2, rationale:"Golgi modifies, sorts, and packages proteins (including glycosylation) for secretion.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: C" },
  /* 149 */ { q: "Which cell junction connects intermediate filaments between adjacent epithelial cells (spot welds)?", options:["Zonula occludens","Zonula adherens","Macula adherens (desmosome)","Gap junction"], correct:2, rationale:"Desmosomes (macula adherens) link intermediate filaments between adjacent cells.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 150 */ { q: "Which connective tissue cell synthesizes collagen and secretes procollagen?", options:["Reticular cell","Fibroblast","Adipocyte","Mast cell"], correct:1, rationale:"Fibroblasts synthesize procollagen, which is processed extracellularly into collagen.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },

  /* 151 */ { q: "Which epidermal appendage forms the nail plate?", options:["Eccrine gland","Hair follicle","Nail matrix","Sebaceous gland"], correct:2, rationale:"Nail matrix keratinocytes produce the nail plate.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },
  /* 152 */ { q: "Which extracellular molecule anchors collagen to the chondrocyte surface in cartilage?", options:["Chondronectin","Fibronectin","Laminin","Fibrillin"], correct:0, rationale:"Chondronectin is a cartilage glycoprotein that anchors collagen to chondrocytes.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: A" },
  /* 153 */ { q: "Which histological technique stains reticular fibers black?", options:["H&E","PAS","Silver stain","Orcein"], correct:2, rationale:"Silver stains highlight reticular fibers as black (argyrophilic).\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  /* 154 */ { q: "Which epidermal cell type appears clear in H&E but can be identified by DOPA reaction?", options:["Keratinocyte","Melanocyte","Langerhans cell","Merkel cell"], correct:1, rationale:"Melanocytes appear clear in routine H&E and require DOPA to visualize melanin-synthesizing activity.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 155 */ { q: "Which cell in peripheral ganglia surrounds neuron cell bodies and provides support?", options:["Schwann cell","Satellite cell","Microglia","Fibroblast"], correct:1, rationale:"Satellite cells surround neuronal somata in ganglia providing support analogous to astrocytes.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: B" },
  /* 156 */ { q: "Which gland produces tears and is a compound tubuloacinar gland?", options:["Sebaceous gland","Lacrimal gland","Sweat gland","Parotid gland"], correct:1, rationale:"The lacrimal gland is a compound tubuloacinar gland that secretes tears.\\n\\nSource: EVALS 1 — Glandular Epithelium\\nAnswer: B" },
  /* 157 */ { q: "Which bone layer covers outer surface and contains osteoprogenitor cells?", options:["Endosteum","Periosteum","Perichondrium","Peritoneum"], correct:1, rationale:"Periosteum covers outer bone surface and contains osteoprogenitor cells.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: B" },
  /* 158 */ { q: "Which organelle is the site of glycoprotein synthesis and has stacks of cisternae?", options:["Mitochondrion","Golgi apparatus","Rough ER","Lysosome"], correct:1, rationale:"Golgi apparatus consists of stacked cisternae involved in glycoprotein modification and sorting.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: B" },
  /* 159 */ { q: "Which connective tissue forms the stroma of lymph nodes and is rich in reticular fibers?", options:["Dense regular CT","Reticular connective tissue","Adipose tissue","Elastic tissue"], correct:1, rationale:"Reticular connective tissue with type III collagen forms lymphoid stroma.\\n\\nSource: EVALS 1 — Connective Tissue Lab\\nAnswer: B" },
  /* 160 */ { q: "Which epithelial surface is specialized for secretion and absorption and lines intestine?", options:["Stratified squamous","Pseudostratified columnar","Simple columnar","Simple cuboidal"], correct:2, rationale:"Simple columnar epithelium lines the intestine and is adapted for absorption and secretion.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },

  /* 161 */ { q: "Which technique best visualizes glycogen in cells?", options:["H&E","PAS","Silver stain","Orcein"], correct:1, rationale:"PAS stains glycogen and carbohydrate-rich structures magenta.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: B" },
  /* 162 */ { q: "Which muscle protein comprises thick filaments?", options:["Actin","Myosin","Tropomyosin","Troponin"], correct:1, rationale:"Myosin is the major protein of thick filaments.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  /* 163 */ { q: "Which structure anchors epithelial cells to the basal lamina?", options:["Desmosome","Hemidesmosome","Gap junction","Zonula occludens"], correct:1, rationale:"Hemidesmosomes attach epithelial basal surface to the basal lamina.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: B" },
  /* 164 */ { q: "Which connective tissue cell secretes histamine and is involved in allergy?", options:["Plasma cell","Mast cell","Macrophage","Fibroblast"], correct:1, rationale:"Mast cells release histamine during allergic responses.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 165 */ { q: "Which muscle organelle stores calcium for contraction?", options:["Sarcoplasmic reticulum","Mitochondrion","Golgi complex","Lysosome"], correct:0, rationale:"Sarcoplasmic reticulum stores calcium released during excitation-contraction coupling.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: A" },
  /* 166 */ { q: "Which epidermal pigment protects against UV radiation?", options:["Melanin","Carotene","Hemoglobin","Loricrin"], correct:0, rationale:"Melanin produced by melanocytes absorbs and scatters UV radiation protecting underlying tissue.\\n\\nSource: EVALS 1 — Skin\\nAnswer: A" },
  /* 167 */ { q: "Which cell produces synovial fluid in joints (specialized connective tissue)?", options:["Chondrocyte","Synoviocyte","Osteoblast","Fibroblast"], correct:1, rationale:"Synoviocytes (type B fibroblast-like) produce synovial fluid in synovial joints.\\n\\nSource: General Histology\\nAnswer: B" },
  /* 168 */ { q: "Which blood cell type has multilobed nucleus and is the first responder in bacterial infections?", options:["Lymphocyte","Monocyte","Neutrophil","Eosinophil"], correct:2, rationale:"Neutrophils have multilobed nuclei and are primary responders to bacterial infection.\\n\\nSource: EVALS 1 — Laboratory\\nAnswer: C" },
  /* 169 */ { q: "Which portion of the Golgi receives vesicles from rER?", options:["Trans face","Cis face","Maturing face","Lytic face"], correct:1, rationale:"The cis face (forming face) of the Golgi receives transport vesicles from rER.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: B" },
  /* 170 */ { q: "Which histological layer of epidermis is the stem cell layer?", options:["Stratum granulosum","Stratum basale","Stratum spinosum","Stratum corneum"], correct:1, rationale:"Stratum basale contains mitotically active stem cells for epidermal renewal.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },

  /* 171 */ { q: "Which cell junction permits passage of ions enabling electrical coupling?", options:["Desmosome","Gap junction","Tight junction","Adherens junction"], correct:1, rationale:"Gap junctions permit passage of ions and small molecules allowing electrical coupling.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: B" },
  /* 172 */ { q: "Which cartilage is the transitional tissue between dense regular connective tissue and cartilage?", options:["Hyaline","Elastic","Fibrocartilage","Reticular cartilage"], correct:2, rationale:"Fibrocartilage is transitional between dense regular connective tissue and cartilage, with abundant type I collagen.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  /* 173 */ { q: "Which muscle has involuntary contraction and single central nucleus?", options:["Skeletal muscle","Cardiac muscle","Smooth muscle","Myocardial fibers"], correct:2, rationale:"Smooth muscle is involuntary, nonstriated, and has single centrally located nuclei.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: C" },
  /* 174 */ { q: "Which nerve ending senses light touch in dermal papillae?", options:["Meissner corpuscle","Pacinian corpuscle","Merkel disc","Free nerve ending"], correct:0, rationale:"Meissner corpuscles in dermal papillae respond to fine touch and flutter.\\n\\nSource: EVALS 1 — Skin Lab\\nAnswer: A" },
  /* 175 */ { q: "Which epithelial cell type lines renal corpuscle parietal layer?", options:["Simple columnar","Simple cuboidal","Simple squamous","Stratified squamous"], correct:2, rationale:"Parietal layer of Bowman’s capsule is lined by simple squamous epithelium.\\n\\nSource: EVALS 1 — Epithelium Lab\\nAnswer: C" },
  /* 176 */ { q: "Which protein complex covers myosin-binding sites on actin in resting muscle?", options:["Troponin-tropomyosin","Calmodulin","Actin-myosin complex","Myosin-kinase complex"], correct:0, rationale:"Troponin-tropomyosin complex blocks myosin binding sites on actin in resting muscle.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: A" },
  /* 177 */ { q: "Which cell type is characterized by basophilic cytoplasm and extensive rER for secretion of proteins?", options:["Osteoclast","Plasma cell","Fibroblast","Adipocyte"], correct:1, rationale:"Plasma cells have basophilic cytoplasm due to abundant rER for antibody production.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 178 */ { q: "Which connective tissue ground substance component is most abundant and forms a hydrated gel?", options:["Proteoglycans","Hyaluronic acid","Glycoproteins","Mineral salts"], correct:1, rationale:"Hyaluronic acid is abundant and forms hydrated proteoglycan aggregates contributing to viscosity.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 179 */ { q: "Which cell in nervous system extends processes that help form blood-brain barrier?", options:["Schwann cell","Oligodendrocyte","Astrocyte","Microglia"], correct:2, rationale:"Astrocytes extend end-feet to blood vessels contributing to the blood–brain barrier.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  /* 180 */ { q: "Which epidermal organelle contains lamellar bodies important to water barrier?", options:["Golgi apparatus","Lysosome","Lamellar granules (multivesicular bodies)","Mitochondria"], correct:2, rationale:"Lamellar granules (membrane-bound lipid bodies) are secreted to form epidermal water barrier.\\n\\nSource: EVALS 1 — Skin\\nAnswer: C" },

  /* 181 */ { q: "Which muscle filament anchors to the Z-line?", options:["Myosin","Actin (thin filaments)","Titin alone","Nebulin"], correct:1, rationale:"Thin (actin) filaments attach to the Z-line; titin anchors thick filaments to Z-line as well.\\n\\nSource: EVALS 1 — Muscle Tissue\\nAnswer: B" },
  /* 182 */ { q: "Which connective tissue cell is the primary producer of elastin microfibrils in large vessels?", options:["Fibroblast","Vascular smooth muscle cell","Chondrocyte","Osteoblast"], correct:1, rationale:"Vascular smooth muscle cells produce elastin and microfibrils in elastic arteries.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 183 */ { q: "Which epidermal derivative converts precursor vitamin D to active form in the skin?", options:["Sweat gland","Keratinocyte","Melanocyte","Sebaceous gland"], correct:1, rationale:"Keratinocytes participate in vitamin D synthesis by converting precursors in skin.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 184 */ { q: "Which junctional complex is disrupted in some food poisoning and gastric infection affecting tight junctions?", options:["Desmosome","Gap junction","Zonula occludens","Hemidesmosome"], correct:2, rationale:"Pathogens (e.g., Helicobacter pylori) and toxins can target tight junctions (zonula occludens) disrupting barrier.\\n\\nSource: EVALS 1 — Epithelium Clin Correlation\\nAnswer: C" },
  /* 185 */ { q: "Which bone cell occupies lacunae connected by canaliculi?", options:["Osteoprogenitor","Osteoblast","Osteocyte","Osteoclast"], correct:2, rationale:"Osteocytes reside in lacunae and communicate via canaliculi.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  /* 186 */ { q: "Which microscopy is required to see ultrastructure like trilaminar membrane clearly?", options:["Light microscope","Transmission electron microscope (TEM)","Scanning electron microscope (SEM)","Stereomicroscope"], correct:1, rationale:"TEM resolves ultrastructure including trilaminar membranes.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: B" },
  /* 187 */ { q: "Which epithelium lines the respiratory tract and has goblet cells and cilia?", options:["Simple squamous","Stratified squamous","Pseudostratified ciliated columnar","Simple cuboidal"], correct:2, rationale:"Respiratory epithelium is pseudostratified ciliated columnar with goblet cells.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 188 */ { q: "Which cell type secretes hydrochloric acid and lysosomal enzymes characteristic of bone resorption?", options:["Osteocyte","Osteoblast","Osteoclast","Osteoprogenitor"], correct:2, rationale:"Osteoclasts release acid and enzymes at the ruffled border to resorb bone.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: C" },
  /* 189 */ { q: "Which histologic feature distinguishes thick from thin skin?", options:["Presence of sebaceous glands","Presence of stratum lucidum","Higher vascularity","More hair follicles"], correct:1, rationale:"Thick skin has a distinct stratum lucidum and thicker stratum corneum; thin skin lacks stratum lucidum.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 190 */ { q: "Which connective tissue cell differentiates into osteoblasts or chondroblasts?", options:["Mesenchymal cell","Fibroblast","Reticular cell","Plasma cell"], correct:0, rationale:"Mesenchymal stem cells can give rise to osteoblasts and chondroblasts.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: A" },
  /* 191 */ { q: "Which epidermal lateral surface modification is responsible for forming extracellular aqueous channels for paracellular ion passage?", options:["Occludin","JAM (junctional adhesion molecule)","Claudins","Desmoglein"], correct:2, rationale:"Claudins are transmembrane proteins in tight junctions forming paracellular ion channels.\\n\\nSource: EVALS 1 — Epithelium\\nAnswer: C" },
  /* 192 */ { q: "Which organelle is involved in peroxidation reactions and hydrogen peroxide metabolism?", options:["Mitochondrion","Lysosome","Peroxisome","Golgi apparatus"], correct:2, rationale:"Peroxisomes contain enzymes for oxidative reactions and detoxify hydrogen peroxide.\\n\\nSource: EVALS 1 — The Cell\\nAnswer: C" },
  /* 193 */ { q: "Which epidermal cell is involved in pressure detection and associated with afferent nerve terminal (Merkel)?", options:["Keratinocyte","Merkel cell","Langerhans cell","Melanocyte"], correct:1, rationale:"Merkel cells associate with sensory nerve endings for fine touch/pressure.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 194 */ { q: "Which connective tissue fiber forms concentric elastic lamellae in large arteries?", options:["Reticular fiber","Collagen fiber","Elastic lamellae composed of elastin","Keratin fiber"], correct:2, rationale:"Elastic lamellae composed of elastin in large arteries allow stretch and recoil.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: C" },
  /* 195 */ { q: "Which structure in the neuron contains abundant mitochondria and small rounded swellings along the axon?", options:["Cell body","Dendrite","Axon terminals (boutons)","Nucleus"], correct:2, rationale:"Axon terminals/boutons contain many mitochondria and bulb-like swellings; synaptic boutons are energy-demanding.\\n\\nSource: EVALS 1 — Nervous Tissue\\nAnswer: C" },
  /* 196 */ { q: "Which epidermal product aggregates keratin filaments into tonofibrils (profilaggrin substrate)?", options:["Loricrin","Filaggrin (from profilaggrin)","Keratinocyte keratin","Elastin"], correct:1, rationale:"Profilaggrin is cleaved to filaggrin which promotes aggregation of keratin filaments into tonofibrils.\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" },
  /* 197 */ { q: "Which microscopy technique yields a 3D image of the surface of a specimen by detecting electrons reflected from it?", options:["TEM","SEM","LM","Confocal"], correct:1, rationale:"SEM (scanning electron microscopy) resolves surface topography by collecting reflected electrons creating 3D images.\\n\\nSource: EVALS 1 — Introduction to Histology\\nAnswer: B" },
  /* 198 */ { q: "Which connective tissue cell type is derived from monocytes and acts as a professional antigen-presenter and phagocyte?", options:["Mast cell","Macrophage","Fibroblast","Plasma cell"], correct:1, rationale:"Macrophages derive from monocytes and are phagocytes that present antigen.\\n\\nSource: EVALS 1 — Connective Tissue\\nAnswer: B" },
  /* 199 */ { q: "Which cell type is primarily responsible for collagen formation in cartilage (chondrogenesis)?", options:["Chondroblast","Osteoblast","Fibroblast","Osteocyte"], correct:0, rationale:"Chondroblasts synthesize cartilage matrix components including collagen and proteoglycans.\\n\\nSource: EVALS 1 — Bone & Cartilage\\nAnswer: A" },
  /* 200 */ { q: "Which gland in skin is purely serous and merocrine by nature, commonly found in thick skin?", options:["Sebaceous gland","Eccrine sweat gland","Apocrine sweat gland","Ceruminous gland"], correct:1, rationale:"Eccrine sweat glands are serous, merocrine-secreting glands found abundantly in thick skin (palms/soles).\\n\\nSource: EVALS 1 — Skin\\nAnswer: B" }
];

const qContainer = document.getElementById('questions');
const progressEl = document.getElementById('progress');
const scoreEl = document.getElementById('score');

let answered = 0;
let correctCount = 0;

function letterFor(i){ return String.fromCharCode(65 + i); }

function render(){
  qContainer.innerHTML = '';
  questions.forEach((item, idx) => {
    const qDiv = document.createElement('div');
    qDiv.className = 'question';
    qDiv.id = 'q' + idx;
    qDiv.innerHTML = `
      <div class="qhead">
        <div class="qnum">${idx+1}</div>
        <div class="qtext">
          <div style="font-weight:700">${item.q}</div>
          <div class="opts" id="opts${idx}"></div>
        </div>
      </div>
      <div class="rationale" id="rat${idx}"></div>
    `;
    qContainer.appendChild(qDiv);
    const optsDiv = qDiv.querySelector(`#opts${idx}`);
    item.options.forEach((opt, oi) => {
      const b = document.createElement('div');
      b.className = 'opt';
      b.setAttribute('data-qi', idx);
      b.setAttribute('data-oi', oi);
      b.tabIndex = 0;
      b.innerHTML = `<strong>${letterFor(oi)}.</strong> ${opt}`;
      b.addEventListener('click', handleClick);
      optsDiv.appendChild(b);
    });
  });
}

function handleClick(e){
  const el = e.currentTarget;
  const qi = parseInt(el.getAttribute('data-qi'));
  const oi = parseInt(el.getAttribute('data-oi'));
  const item = questions[qi];
  const qdiv = document.getElementById('q' + qi);
  if (qdiv.getAttribute('data-answered') === 'true') return;
  qdiv.setAttribute('data-answered','true');
  answered++;
  const opts = qdiv.querySelectorAll('.opt');
  if (oi === item.correct){
    el.classList.add('correct');
    correctCount++;
  } else {
    el.classList.add('incorrect');
    opts.forEach(node => {
      if (parseInt(node.getAttribute('data-oi')) === item.correct){
        node.classList.add('correct');
      }
    });
  }
  opts.forEach(node => {
    node.style.pointerEvents = 'none';
    node.setAttribute('aria-disabled','true');
  });

  const rat = document.getElementById('rat' + qi);
  const explanation = item.rationale || "Explanation not provided.";
  // ensure newline formatting
  let text = explanation;
  // If rationale already contains "Source:" and "Answer:", keep as is; otherwise append
  if (!/Source:/.test(text)) text += `\n\nSource: EVALS 1 — Anatomy.pdf`;
  if (!/Answer:/.test(text)) text += `\nAnswer: ${letterFor(item.correct)}`;
  rat.textContent = text;
  rat.classList.add('show');

  progressEl.textContent = `Answered: ${answered} / ${questions.length}`;
  scoreEl.textContent = `Score: ${correctCount}`;
  rat.scrollIntoView({behavior:'smooth', block:'nearest'});
}

document.getElementById('showScore').addEventListener('click', () => {
  alert(`You have answered ${answered} of ${questions.length} questions.\nCorrect answers: ${correctCount}\nCurrent score: ${correctCount} / ${questions.length}`);
});

document.getElementById('resetBtn').addEventListener('click', () => {
  if (!confirm('Reset all answers?')) return;
  answered = 0;
  correctCount = 0;
  progressEl.textContent = `Answered: 0 / ${questions.length}`;
  scoreEl.textContent = `Score: 0`;
  render();
});

render();
progressEl.textContent = `Answered: 0 / ${questions.length}`;
scoreEl.textContent = `Score: 0`;
function handleClick(e){
  const el = e.currentTarget;
  const qi = parseInt(el.getAttribute('data-qi'));
  const oi = parseInt(el.getAttribute('data-oi'));
  const item = questions[qi];
  const qdiv = document.getElementById('q'+qi);

  // Prevent double-answering
  if (qdiv.getAttribute('data-answered') === 'true') return;
  qdiv.setAttribute('data-answered','true');
  answered++;

  const opts = qdiv.querySelectorAll('.opt');

  // Mark correct / incorrect and update score
  if (oi === item.correct){
    el.classList.add('correct');
    correctCount++;
  } else {
    el.classList.add('incorrect');
    // Also highlight the correct option
    opts.forEach(node=>{
      if (parseInt(node.getAttribute('data-oi')) === item.correct){
        node.classList.add('correct');
      }
    });
  }

  // Disable all options for this question
  opts.forEach(node=>{
    node.style.pointerEvents = 'none';
    node.setAttribute('aria-disabled','true');
  });

  // Build an expanded rationale that is source-free and explains distractors
  // 1) obtain the provided rationale text and sanitize it
  let raw = (item.rationale || '').trim();
  // remove any accidental "Source:" or "Answer:" lines if present
  raw = raw.replace(/\n\s*Source:[\s\S]*$/i,'').replace(/\n\s*Answer:\s*[A-D]/i,'').trim();

  // 2) If no author-provided rationale, generate a concise starter
  if (!raw) {
    raw = 'This choice best matches the central concept tested in the question.';
  }

  // 3) Compose a multi-part rationale:
  //    - Why this answer is correct (use / augment the provided rationale)
  //    - Why each other choice is not correct (explain briefly but specifically)
  let final = '';
  final += 'Why this answer is correct:\n\n';
  // Expand the first sentence a little if it is short
  const sentences = raw.split(/(?<=\.)\s+/).filter(Boolean);
  if (sentences.length > 0) {
    // Include up to first 2 sentences from the author's rationale for context
    final += sentences.slice(0,2).join(' ') + '\n\n';
    if (sentences.length > 2) {
      // Append the rest as continuation
      final += sentences.slice(2).join(' ') + '\n\n';
    }
  } else {
    final += raw + '\n\n';
  }

  final += 'Why the other choices are not correct:\n\n';

  // For each distractor, craft a short targeted explanation
  item.options.forEach((opt, idx)=>{
    if (idx === item.correct) return; // skip correct option
    const distractorExplanation = generateOtherReason(opt, raw, idx, item.correct);
    final += `${letterFor(idx)}. ${opt} — ${distractorExplanation}\n\n`;
  });

  // Display the rationale (no source lines)
  const rat = document.getElementById('rat'+qi);
  rat.textContent = final.trim();
  rat.classList.add('show');

  // Update progress and score
  progressEl.textContent = `Answered: ${answered} / ${questions.length}`;
  scoreEl.textContent = `Score: ${correctCount}`;

  // Ensure rationale is visible on mobile
  rat.scrollIntoView({behavior:'smooth', block:'nearest'});
}

/**
 * generateOtherReason(optText, correctRationale, distractorIndex, correctIndex)
 *
 * Return a short, specific explanation for why the distractor `optText` is wrong.
 * We use a few templates and try to cite the core difference vs the correct rationale.
 */
function generateOtherReason(optText, correctRationale, distractorIndex, correctIndex){
  // Normalize texts for mild keyword checks
  const ot = (optText || '').toLowerCase();
  const crFirst = (correctRationale || '').split(/[.?!]/).filter(Boolean)[0] || '';

  // A selection of targeted templates. We attempt to make the feedback helpful:
  const templates = [
    // Generic: this distractor misses the key feature
    `This option is incorrect because it does not include the essential feature described above: ${crFirst}. It addresses a related idea but omits or contradicts the specific requirement.`,
    // Distractor confuses two concepts
    `This choice confuses two concepts: it describes something related but not the same as the correct answer. The correct answer directly addresses ${crFirst}, whereas this option does not.`,
    // Distractor is an opposite/contradiction
    `This alternative is incorrect because it contradicts the central point of the correct explanation; it asserts the opposite or fails to meet the necessary condition described above.`,
    // Distractor is incomplete or too broad
    `This answer is too general or incomplete relative to the correct choice. The correct answer specifies ${crFirst}, while this option lacks that necessary specificity.`,
    // Distractor applies to a different context
    `This option applies to a different context or structure and therefore is not the correct response to this question; it does not meet the precise criteria explained above.`
  ];

  // Use some minimal heuristics to pick a more tailored template if possible
  if (ot.includes('mitochondr') && /dna|mitochondrial/i.test(correctRationale) === false) {
    return `This option mentions mitochondria but the question concerns a different structure or functional point (${crFirst}). Therefore it is not the best match.`;
  }
  if (ot.includes('collagen') && /collagen/i.test(correctRationale) === false) {
    return `This distractor focuses on collagen; however the correct explanation concerns ${crFirst}, not the collagen-related property cited here.`;
  }
  if (ot.includes('keratin') && /keratin/i.test(correctRationale) === false) {
    return `This choice refers to keratin, but the correct rationale focuses on ${crFirst} rather than keratin-related features.`;
  }

  // Fallback: semi-random template to keep explanations varied and helpful
  const idx = Math.abs(distractorIndex + optText.length) % templates.length;
  return templates[idx];
}
/* ---------- Paste START (handleClick + helper) ---------- */

function handleClick(e){
  const el = e.currentTarget;
  const qi = parseInt(el.getAttribute('data-qi'));
  const oi = parseInt(el.getAttribute('data-oi'));
  const item = questions[qi];
  const qdiv = document.getElementById('q'+qi);

  if (qdiv.getAttribute('data-answered') === 'true') return;
  qdiv.setAttribute('data-answered','true');
  answered++;

  const opts = qdiv.querySelectorAll('.opt');

  if (oi === item.correct){
    el.classList.add('correct');
    correctCount++;
  } else {
    el.classList.add('incorrect');
    opts.forEach(node=>{
      if (parseInt(node.getAttribute('data-oi')) === item.correct){
        node.classList.add('correct');
      }
    });
  }

  opts.forEach(node=>{
    node.style.pointerEvents = 'none';
    node.setAttribute('aria-disabled','true');
  });

  // sanitize original rationale (remove Source/Answer lines)
  let raw = (item.rationale || '').trim();
  raw = raw.replace(/\n\s*Source:[\s\S]*$/i,'').replace(/\n\s*Answer:\s*[A-D]/i,'').trim();

  if (!raw) raw = 'This choice best matches the central concept tested in the question.';

  let final = 'Why this answer is correct:\n\n';
  const sentences = raw.split(/(?<=\.)\s+/).filter(Boolean);
  if (sentences.length > 0) {
    final += sentences.slice(0,2).join(' ') + '\n\n';
    if (sentences.length > 2) final += sentences.slice(2).join(' ') + '\n\n';
  } else {
    final += raw + '\n\n';
  }

  final += 'Why the other choices are not correct:\n\n';

  item.options.forEach((opt, idx)=>{
    if (idx === item.correct) return;
    const distractorExplanation = generateOtherReason(opt, raw, idx, item.correct);
    final += `${letterFor(idx)}. ${opt} — ${distractorExplanation}\n\n`;
  });

  const rat = document.getElementById('rat'+qi);
  rat.textContent = final.trim();
  rat.classList.add('show');

  progressEl.textContent = `Answered: ${answered} / ${questions.length}`;
  scoreEl.textContent = `Score: ${correctCount}`;

  rat.scrollIntoView({behavior:'smooth', block:'nearest'});
}

/* helper */
function generateOtherReason(optText, correctRationale, distractorIndex, correctIndex){
  const ot = (optText || '').toLowerCase();
  const crFirst = (correctRationale || '').split(/[.?!]/).filter(Boolean)[0] || '';

  const templates = [
    `This option is incorrect because it does not include the essential feature described above: ${crFirst}. It addresses a related idea but omits or contradicts the specific requirement.`,
    `This choice confuses two concepts: it describes something related but not the same as the correct answer. The correct answer directly addresses ${crFirst}, whereas this option does not.`,
    `This alternative is incorrect because it contradicts the central point of the correct explanation; it asserts the opposite or fails to meet the necessary condition.`,
    `This answer is too general or incomplete relative to the correct choice. The correct answer specifies ${crFirst}, while this option lacks that necessary specificity.`,
    `This option applies to a different context or structure and therefore is not the correct response to this question; it does not meet the precise criteria explained above.`
  ];

  if (ot.includes('mitochondr') && /dna|mitochondrial/i.test(correctRationale) === false) {
    return `This option mentions mitochondria but the question concerns a different structure or functional point (${crFirst}). Therefore it is not the best match.`;
  }
  if (ot.includes('collagen') && /collagen/i.test(correctRationale) === false) {
    return `This distractor focuses on collagen; however the correct explanation concerns ${crFirst}, not the collagen-related property cited here.`;
  }
  if (ot.includes('keratin') && /keratin/i.test(correctRationale) === false) {
    return `This choice refers to keratin, but the correct rationale focuses on ${crFirst} rather than keratin-related features.`;
  }

  const idx = Math.abs(distractorIndex + optText.length) % templates.length;
  return templates[idx];
}

/* ---------- Paste END ---------- */
/* ---------- Quiz catalog: auto-list quizzes from quizzes/ folder ---------- */
const GITHUB_OWNER = 'he11kitty';
const GITHUB_REPO  = 'histology-exam';
const QUIZ_DIR     = 'quizzes';

async function loadQuizListFromGitHub() {
  try {
    const api = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/${QUIZ_DIR}?ref=main`;
    const res = await fetch(api, { headers: { Accept: 'application/vnd.github.v3+json' }});
    if (!res.ok) return [];
    const files = await res.json();
    return files
      .filter(f => f.type === 'file' && f.name.toLowerCase().endsWith('.json'))
      .map(f => ({ name: f.name, download_url: f.download_url, sha: f.sha }));
  } catch (err) {
    console.error('Failed to fetch quiz list:', err);
    return [];
  }
}

function createCatalogContainer() {
  let container = document.getElementById('quiz-catalog');
  if (container) return container;
  container = document.createElement('aside');
  container.id = 'quiz-catalog';
  container.style = 'width:280px;float:left;margin-right:18px;padding:12px;border-radius:8px;background:rgba(255,255,255,0.02);';
  container.innerHTML = '<h3 style="color:#6ee7b7;margin:0 0 8px 0">Available Exams</h3>';
  const mainCard = document.querySelector('.exam-card');
  if (mainCard && mainCard.parentNode) {
    mainCard.parentNode.insertBefore(container, mainCard);
    mainCard.style = 'overflow:hidden';
  } else {
    document.body.insertBefore(container, document.body.firstChild);
  }
  return container;
}

async function renderQuizCatalogFromGitHub() {
  const files = await loadQuizListFromGitHub();
  const container = createCatalogContainer();
  // clear old entries
  container.querySelectorAll('.quiz-entry').forEach(n => n.remove());
  if (files.length === 0) {
    const p = document.createElement('div');
    p.style = 'color:#9aa6b2;font-size:14px';
    p.textContent = 'No exams found in quizzes/ (yet).';
    container.appendChild(p);
    return;
  }
  files.forEach(f => {
    const id = f.name.replace(/\.json$/,'');
    const entry = document.createElement('div');
    entry.className = 'quiz-entry';
    entry.style = 'padding:8px 6px;border-bottom:1px solid rgba(255,255,255,0.03);cursor:pointer';
    entry.innerHTML = `<div style="font-weight:700;color:#e6eef3">${id}</div>
                       <div style="color:#9aa6b2;font-size:12px">SHA: ${f.sha.slice(0,7)}</div>`;
    entry.addEventListener('click', async () => {
      await loadQuizFromUrl(f.download_url, id);
    });
    container.appendChild(entry);
  });
  // auto-load first quiz
  if (files.length > 0) await loadQuizFromUrl(files[0].download_url, files[0].name.replace(/\.json$/,''));
}

async function loadQuizFromUrl(downloadUrl, id) {
  try {
    const res = await fetch(downloadUrl);
    if (!res.ok) throw new Error('Quiz file not found');
    const quiz = await res.json();
    if (quiz.title && document.querySelector('header h1')) {
      document.querySelector('header h1').textContent = quiz.title;
    }
    window.questions = quiz.questions || [];
    if (typeof render === 'function') {
      render();
    } else if (typeof renderQuestionsSimple === 'function') {
      renderQuestionsSimple(window.questions);
    } else {
      console.warn('No render function found — quiz loaded into window.questions.');
    }
  } catch (err) {
    console.error('Failed to load quiz:', err);
    const qContainer = document.getElementById('questions');
    if (qContainer) qContainer.innerHTML = `<p style="color:#f88">Failed to load quiz ${id}.</p>`;
  }
}

document.addEventListener('DOMContentLoaded', function () {
  renderQuizCatalogFromGitHub();
});
/* ---------------------------------------------------------------- */
/* ---------- Quiz catalog: auto-list quizzes from quizzes/ folder ---------- */
const GITHUB_OWNER = 'he11kitty';
const GITHUB_REPO  = 'histology-exam';
const QUIZ_DIR     = 'quizzes';

async function loadQuizListFromGitHub() {
  try {
    const api = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/${QUIZ_DIR}?ref=main`;
    const res = await fetch(api, { headers: { Accept: 'application/vnd.github.v3+json' }});
    if (!res.ok) return [];
    const files = await res.json();
    return files
      .filter(f => f.type === 'file' && f.name.toLowerCase().endsWith('.json'))
      .map(f => ({ name: f.name, download_url: f.download_url, sha: f.sha }));
  } catch (err) {
    console.error('Failed to fetch quiz list:', err);
    return [];
  }
}

function createCatalogContainer() {
  let container = document.getElementById('quiz-catalog');
  if (container) return container;
  container = document.createElement('aside');
  container.id = 'quiz-catalog';
  container.style = 'width:280px;float:left;margin-right:18px;padding:12px;border-radius:8px;background:rgba(255,255,255,0.02);';
  container.innerHTML = '<h3 style="color:#6ee7b7;margin:0 0 8px 0">Available Exams</h3>';
  const mainCard = document.querySelector('.exam-card');
  if (mainCard && mainCard.parentNode) {
    mainCard.parentNode.insertBefore(container, mainCard);
    mainCard.style = 'overflow:hidden';
  } else {
    document.body.insertBefore(container, document.body.firstChild);
  }
  return container;
}

async function renderQuizCatalogFromGitHub() {
  const files = await loadQuizListFromGitHub();
  const container = createCatalogContainer();
  container.querySelectorAll('.quiz-entry').forEach(n => n.remove()); // clear old
  if (files.length === 0) {
    const p = document.createElement('div');
    p.style = 'color:#9aa6b2;font-size:14px';
    p.textContent = 'No exams found in quizzes/ (yet).';
    container.appendChild(p);
    return;
  }
  files.forEach(f => {
    const id = f.name.replace(/\.json$/,'');
    const entry = document.createElement('div');
    entry.className = 'quiz-entry';
    entry.style = 'padding:8px 6px;border-bottom:1px solid rgba(255,255,255,0.03);cursor:pointer';
    entry.innerHTML = `<div style="font-weight:700;color:#e6eef3">${id}</div>
                       <div style="color:#9aa6b2;font-size:12px">SHA: ${f.sha.slice(0,7)}</div>`;
    entry.addEventListener('click', async () => {
      await loadQuizFromUrl(f.download_url, id);
    });
    container.appendChild(entry);
  });
  if (files.length > 0) await loadQuizFromUrl(files[0].download_url, files[0].name.replace(/\.json$/,''));
}

async function loadQuizFromUrl(downloadUrl, id) {
  try {
    const res = await fetch(downloadUrl);
    if (!res.ok) throw new Error('Quiz file not found');
    const quiz = await res.json();
    if (quiz.title && document.querySelector('header h1')) {
      document.querySelector('header h1').textContent = quiz.title;
    }
    window.questions = quiz.questions || [];
    if (typeof render === 'function') {
      render();
    } else if (typeof renderQuestionsSimple === 'function') {
      renderQuestionsSimple(window.questions);
    } else {
      console.warn('No render function found — quiz loaded into window.questions.');
    }
  } catch (err) {
    console.error('Failed to load quiz:', err);
    const qContainer = document.getElementById('questions');
    if (qContainer) qContainer.innerHTML = `<p style="color:#f88">Failed to load quiz ${id}.</p>`;
  }
}

document.addEventListener('DOMContentLoaded', function () {
  renderQuizCatalogFromGitHub();
});
/* ---------------------------------------------------------------- */
/* ---------- Quiz catalog: auto-list quizzes from quizzes/ folder ---------- */
const GITHUB_OWNER = 'he11kitty';
const GITHUB_REPO  = 'histology-exam';
const QUIZ_DIR     = 'quizzes';

async function loadQuizListFromGitHub() {
  try {
    const api = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/${QUIZ_DIR}?ref=main`;
    const res = await fetch(api, { headers: { Accept: 'application/vnd.github.v3+json' }});
    if (!res.ok) return [];
    const files = await res.json();
    return files
      .filter(f => f.type === 'file' && f.name.toLowerCase().endsWith('.json'))
      .map(f => ({ name: f.name, download_url: f.download_url, sha: f.sha }));
  } catch (err) {
    console.error('Failed to fetch quiz list:', err);
    return [];
  }
}

function createCatalogContainer() {
  let container = document.getElementById('quiz-catalog');
  if (container) return container;
  container = document.createElement('aside');
  container.id = 'quiz-catalog';
  container.style = 'width:280px;float:left;margin-right:18px;padding:12px;border-radius:8px;background:rgba(255,255,255,0.02);';
  container.innerHTML = '<h3 style="color:#6ee7b7;margin:0 0 8px 0">Available Exams</h3>';
  const mainCard = document.querySelector('.exam-card');
  if (mainCard && mainCard.parentNode) {
    mainCard.parentNode.insertBefore(container, mainCard);
    mainCard.style = 'overflow:hidden';
  } else {
    document.body.insertBefore(container, document.body.firstChild);
  }
  return container;
}

async function renderQuizCatalogFromGitHub() {
  const files = await loadQuizListFromGitHub();
  const container = createCatalogContainer();
  container.querySelectorAll('.quiz-entry').forEach(n => n.remove()); // clear old
  if (files.length === 0) {
    const p = document.createElement('div');
    p.style = 'color:#9aa6b2;font-size:14px';
    p.textContent = 'No exams found in quizzes/ (yet).';
    container.appendChild(p);
    return;
  }
  files.forEach(f => {
    const id = f.name.replace(/\.json$/,'');
    const entry = document.createElement('div');
    entry.className = 'quiz-entry';
    entry.style = 'padding:8px 6px;border-bottom:1px solid rgba(255,255,255,0.03);cursor:pointer';
    entry.innerHTML = `<div style="font-weight:700;color:#e6eef3">${id}</div>
                       <div style="color:#9aa6b2;font-size:12px">SHA: ${f.sha.slice(0,7)}</div>`;
    entry.addEventListener('click', async () => {
      await loadQuizFromUrl(f.download_url, id);
    });
    container.appendChild(entry);
  });
  if (files.length > 0) await loadQuizFromUrl(files[0].download_url, files[0].name.replace(/\.json$/,''));
}

async function loadQuizFromUrl(downloadUrl, id) {
  try {
    const res = await fetch(downloadUrl);
    if (!res.ok) throw new Error('Quiz file not found');
    const quiz = await res.json();
    if (quiz.title && document.querySelector('header h1')) {
      document.querySelector('header h1').textContent = quiz.title;
    }
    window.questions = quiz.questions || [];
    if (typeof render === 'function') {
      render();
    } else if (typeof renderQuestionsSimple === 'function') {
      renderQuestionsSimple(window.questions);
    } else {
      console.warn('No render function found — quiz loaded into window.questions.');
    }
  } catch (err) {
    console.error('Failed to load quiz:', err);
    const qContainer = document.getElementById('questions');
    if (qContainer) qContainer.innerHTML = `<p style="color:#f88">Failed to load quiz ${id}.</p>`;
  }
}

document.addEventListener('DOMContentLoaded', function () {
  renderQuizCatalogFromGitHub();
});
/* ---------------------------------------------------------------- */
/* ---------- Quiz catalog: auto-list quizzes from quizzes/ folder ---------- */
const GITHUB_OWNER = 'he11kitty';
const GITHUB_REPO  = 'histology-exam';
const QUIZ_DIR     = 'quizzes';

async function loadQuizListFromGitHub() {
  try {
    const api = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/${QUIZ_DIR}?ref=main`;
    const res = await fetch(api, { headers: { Accept: 'application/vnd.github.v3+json' }});
    if (!res.ok) return [];
    const files = await res.json();
    return files
      .filter(f => f.type === 'file' && f.name.toLowerCase().endsWith('.json'))
      .map(f => ({ name: f.name, download_url: f.download_url, sha: f.sha }));
  } catch (err) {
    console.error('Failed to fetch quiz list:', err);
    return [];
  }
}

function createCatalogContainer() {
  let container = document.getElementById('quiz-catalog');
  if (container) return container;
  container = document.createElement('aside');
  container.id = 'quiz-catalog';
  container.style = 'width:280px;float:left;margin-right:18px;padding:12px;border-radius:8px;background:rgba(255,255,255,0.02);';
  container.innerHTML = '<h3 style="color:#6ee7b7;margin:0 0 8px 0">Available Exams</h3>';
  const mainCard = document.querySelector('.exam-card');
  if (mainCard && mainCard.parentNode) {
    mainCard.parentNode.insertBefore(container, mainCard);
    mainCard.style = 'overflow:hidden';
  } else {
    document.body.insertBefore(container, document.body.firstChild);
  }
  return container;
}

async function renderQuizCatalogFromGitHub() {
  const files = await loadQuizListFromGitHub();
  const container = createCatalogContainer();
  container.querySelectorAll('.quiz-entry').forEach(n => n.remove()); // clear old
  if (files.length === 0) {
    const p = document.createElement('div');
    p.style = 'color:#9aa6b2;font-size:14px';
    p.textContent = 'No exams found in quizzes/ (yet).';
    container.appendChild(p);
    return;
  }
  files.forEach(f => {
    const id = f.name.replace(/\.json$/,'');
    const entry = document.createElement('div');
    entry.className = 'quiz-entry';
    entry.style = 'padding:8px 6px;border-bottom:1px solid rgba(255,255,255,0.03);cursor:pointer';
    entry.innerHTML = `<div style="font-weight:700;color:#e6eef3">${id}</div>
                       <div style="color:#9aa6b2;font-size:12px">SHA: ${f.sha.slice(0,7)}</div>`;
    entry.addEventListener('click', async () => {
      await loadQuizFromUrl(f.download_url, id);
    });
    container.appendChild(entry);
  });
  if (files.length > 0) await loadQuizFromUrl(files[0].download_url, files[0].name.replace(/\.json$/,''));
}

async function loadQuizFromUrl(downloadUrl, id) {
  try {
    const res = await fetch(downloadUrl);
    if (!res.ok) throw new Error('Quiz file not found');
    const quiz = await res.json();
    if (quiz.title && document.querySelector('header h1')) {
      document.querySelector('header h1').textContent = quiz.title;
    }
    window.questions = quiz.questions || [];
    if (typeof render === 'function') {
      render();
    } else if (typeof renderQuestionsSimple === 'function') {
      renderQuestionsSimple(window.questions);
    } else {
      console.warn('No render function found — quiz loaded into window.questions.');
    }
  } catch (err) {
    console.error('Failed to load quiz:', err);
    const qContainer = document.getElementById('questions');
    if (qContainer) qContainer.innerHTML = `<p style="color:#f88">Failed to load quiz ${id}.</p>`;
  }
}

document.addEventListener('DOMContentLoaded', function () {
  renderQuizCatalogFromGitHub();
});
/* ---------------------------------------------------------------- */
</script>
</body>
</html>






